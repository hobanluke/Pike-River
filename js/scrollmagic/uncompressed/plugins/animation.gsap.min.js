!function(e,o){"function"==typeof define&&define.amd?define(["ScrollMagic","TweenMax","TimelineMax"],o):"object"==typeof exports?(require("gsap"),o(require("scrollmagic"),TweenMax,TimelineMax)):o(e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic,e.TweenMax||e.TweenLite,e.TimelineMax||e.TimelineLite)}(this,function(e,o,n){"use strict";var t="animation.gsap",i=window.console||{},r=Function.prototype.bind.call(i.error||i.log||function(){},i);e||r("("+t+") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs."),o||r("("+t+") -> ERROR: TweenLite or TweenMax could not be found. Please make sure GSAP is loaded before ScrollMagic or use an asynchronous loader like requirejs."),e.Scene.addOption("tweenChanges",!1,function(e){return!!e}),e.Scene.extend(function(){var i,e=this,r=function(){e._log&&(Array.prototype.splice.call(arguments,1,0,"("+t+")","->"),e._log.apply(this,arguments))};e.on("progress.plugin_gsap",function(){s()}),e.on("destroy.plugin_gsap",function(o){e.removeTween(o.reset)});var s=function(){if(i){var o=e.progress(),n=e.state();i.repeat&&-1===i.repeat()?"DURING"===n&&i.paused()?i.play():"DURING"===n||i.paused()||i.pause():o!=i.progress()&&(0===e.duration()?o>0?i.play():i.reverse():e.tweenChanges()&&i.tweenTo?i.tweenTo(o*i.duration()):i.progress(o).pause())}};e.setTween=function(t,l,a){var c;arguments.length>1&&(arguments.length<3&&(a=l,l=1),t=o.to(t,l,a));try{c=n?new n({smoothChildTiming:!0}).add(t):t,c.pause()}catch(g){return r(1,"ERROR calling method 'setTween()': Supplied argument is not a valid TweenObject"),e}if(i&&e.removeTween(),i=c,t.repeat&&-1===t.repeat()&&(i.repeat(-1),i.yoyo(t.yoyo())),e.tweenChanges()&&!i.tweenTo&&r(2,"WARNING: tweenChanges will only work if the TimelineMax object is available for ScrollMagic."),i&&e.controller()&&e.triggerElement()&&e.loglevel()>=2){var u=o.getTweensOf(e.triggerElement()),f=e.controller().info("vertical");u.forEach(function(e,o){var n=e.vars.css||e.vars,t=f?void 0!==n.top||void 0!==n.bottom:void 0!==n.left||void 0!==n.right;return t?(r(2,"WARNING: Tweening the position of the trigger element affects the scene timing and should be avoided!"),!1):void 0})}if(parseFloat(TweenLite.version)>=1.14)for(var v,m,d=i.getChildren?i.getChildren(!0,!0,!1):[i],p=function(){r(2,"WARNING: tween was overwritten by another. To learn how to avoid this issue see here: https://github.com/janpaepke/ScrollMagic/wiki/WARNING:-tween-was-overwritten-by-another")},h=0;h<d.length;h++)v=d[h],m!==p&&(m=v.vars.onOverwrite,v.vars.onOverwrite=function(){m&&m.apply(this,arguments),p.apply(this,arguments)});return r(3,"added tween"),s(),e},e.removeTween=function(o){return i&&(o&&i.progress(0).pause(),i.kill(),i=void 0,r(3,"removed tween (reset: "+(o?"true":"false")+")")),e}})});